# Library Management System

## Описание
Это приложение для управления библиотечными данными, которое реализует основные операции с авторами и книгами. Система позволяет добавлять, обновлять, удалять и отслеживать изменения в базе данных. Включает в себя:
- Управление авторами (создание, обновление, удаление)
- Управление книгами (создание, обновление, удаление)
- Логирование всех изменений с возможностью отправки уведомлений по email о действиях с данными.

## Стек технологий
- **Spring Boot** — основной фреймворк для создания RESTful веб-приложений
- **PostgreSQL** — СУБД для хранения данных
- **JPA (Java Persistence API)** — для работы с базой данных через ORM
- **Spring Data JPA** — интеграция JPA с Spring
- **Spring Mail** — для отправки email уведомлений
- **Thymeleaf** — для отображения информации в веб-интерфейсе (если требуется)

## Структура проекта

Проект включает в себя следующие основные компоненты:

### 1. Модели (Entities)
- **Author** — представляет автора книги, с полями `first_name`, `last_name`, `email`.
- **Book** — представляет книгу, с полями `title`, `isbn`, `author_id` (связь с автором).
- **ChangeLog** — логирует изменения в системе, с полями `change_type`, `entity_name`, `entity_id`, `change_description`, `timestamp`.
- **NotificationCondition** — условия для уведомлений по email, с полями `email`, `entity_name`, `condition_type`, `created_at`.

### 2. Репозитории
- **AuthorRepository** — интерфейс для работы с сущностью `Author` в базе данных.
- **BookRepository** — интерфейс для работы с сущностью `Book` в базе данных.
- **ChangeLogRepository** — интерфейс для работы с логами изменений.
- **NotificationConditionRepository** — интерфейс для работы с условиями уведомлений.

### 3. Сервисы
- **AuthorService** — сервис для управления авторами, который включает логику добавления, обновления, удаления авторов и логирования изменений.
- **BookService** — сервис для управления книгами, с аналогичной логикой для добавления, обновления, удаления книг и логирования изменений.
- **EmailService** — сервис для отправки уведомлений по email.

### 4. Логика обработки изменений
- Логирование изменений выполняется в сервисах `AuthorService` и `BookService` с использованием `ChangeLogRepository`.
- Каждое изменение (создание, обновление, удаление) записывается в таблицу `change_logs`, а также отправляется уведомление через сервис `EmailService` (если настроены соответствующие условия для уведомлений).


### 5. Скриншотики
1) При удаление автора

![image](https://github.com/user-attachments/assets/91b32f5c-e1ca-424b-ba6f-da5397b8b803)

2) Логи измененеия

![image](https://github.com/user-attachments/assets/c16fa779-49be-413d-b899-11dc5bc9dbc4)



### 6.Чутка бреда - скрины по 2-3 лабам
1) Отображение книг и авторов при возврате XML

![image](https://github.com/user-attachments/assets/04516420-3485-4a44-96b4-da95c4442f40)
![image](https://github.com/user-attachments/assets/b40da536-c65a-4e45-8acf-a1d720a16b50)


2) Json по авторам

   ![image](https://github.com/user-attachments/assets/79192b08-9f4a-47a7-aa20-a37a87378285)


